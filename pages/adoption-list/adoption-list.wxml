<view class="container">
  <block wx:for="{{adoptions}}" wx:key="adoptionId">
    <view class="card">
      <image class="card-img" src="{{item.image}}" mode="aspectFill" />
      <view class="card-info">
        <text class="title">{{item.petName}}</text>
        <text class="description">{{item.description}}</text>
        <view class="btn-area">
          <button class="apply-btn detail" bindtap="apply" data-id="{{item.adoptionId}}">详情</button>
          <button class="apply-btn request" bindtap="submitApplication" data-id="{{item.adoptionId}}">申请</button>
        </view>
      </view>
    </view>
  </block>

  <!-- 浮动添加按钮 -->
  <view class="floating-btn" bindtap="goToAddAdoption">
    <text class="plus">＋</text>
  </view>
</view>
<!-- 自定义弹窗 -->
<view wx:if="{{showModal}}" class="modal-mask">
  <view class="modal-box">
    <view class="modal-header">
      <text class="modal-title">{{selectedPet.petName}}</text>
      <text class="modal-close" bindtap="closeModal">✕</text>
    </view>
    <image class="modal-image" src="{{selectedPet.petImage}}" mode="aspectFill" />
    <view class="modal-content">
      <text>品种：{{selectedPet.petBreed}}</text>
      <text>性别：{{selectedPet.petGender === '1' ? '公' : '母'}}</text>
      <text>城市：{{selectedPet.pet.city}}</text>
      <text>描述：{{selectedPet.description}}</text>
    </view>
  </view>
</view>